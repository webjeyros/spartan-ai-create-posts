# üöÄ Spartan AI Create Posts

Laravel API –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SEO-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º ChatGPT –∏ Google Gemini.

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **4 —Å—Ü–µ–Ω–∞—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏** —Å—Ç–∞—Ç–µ–π (—Ç—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –∏ –ø—Ä–æ—Å—Ç–∞—è)
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ChatGPT –∏ Google Gemini**
- ‚úÖ **–¢—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**: SEO-–∞–Ω–∞–ª–∏–∑ ‚Üí –ü—Ä–æ–º–ø—Ç ‚Üí –°—Ç–∞—Ç—å—è
- ‚úÖ **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** —á–µ—Ä–µ–∑ Redis Queue
- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ SEO-–∞–Ω–∞–ª–∏–∑–æ–≤** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ **Rate limiting** –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ API
- ‚úÖ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ—Ç–∞—Ç–µ–≥–æ–≤** (5 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ title –∏ description)
- ‚úÖ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è** - –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç—å—è

## üéØ 4 –°—Ü–µ–Ω–∞—Ä–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: `three_tier_both` (Google Gemini + ChatGPT)
–≠—Ç–∞–ø 1: Google Gemini ‚Üí SEO-–∞–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–∞  
–≠—Ç–∞–ø 2: ChatGPT ‚Üí –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞  
–≠—Ç–∞–ø 3: ChatGPT ‚Üí –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: `three_tier_gpt` (—Ç–æ–ª—å–∫–æ ChatGPT)
–í—Å–µ 3 —ç—Ç–∞–ø–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è ChatGPT

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: `three_tier_gemini` (—Ç–æ–ª—å–∫–æ Google Gemini)
–í—Å–µ 3 —ç—Ç–∞–ø–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è Google Gemini

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: `simple_gpt` –∏–ª–∏ `simple_gemini` (–ø—Ä–æ—Å—Ç–æ–π)
–û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –∫ AI ‚Üí –≥–æ—Ç–æ–≤–∞—è —Å—Ç–∞—Ç—å—è

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- PHP 8.2+
- Laravel 11.x
- MySQL 8.0+ / MariaDB 10.5+
- Redis 6.0+
- Composer 2.x
- OpenAI API Key
- Google Gemini API Key

## üì¶ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/webjeyros/spartan-ai-create-posts.git
cd spartan-ai-create-posts

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
composer install

# 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
cp .env.example .env
php artisan key:generate

# 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env (–¥–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á–∏)
# OPENAI_API_KEY=sk-...
# GOOGLE_GEMINI_API_KEY=AIza...
# API_KEYS=your-api-key-1,your-api-key-2

# 5. –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
mysql -u root -p -e "CREATE DATABASE spartan_ai_posts CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"
php artisan migrate

# 6. –ó–∞–ø—É—Å—Ç–∏—Ç—å queue worker
php artisan queue:work redis --queue=article-generation &

# 7. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
php artisan serve
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è 3 —Å—Ç–∞—Ç–µ–π)

```bash
curl -X POST http://localhost:8000/api/articles/generate \\
  -H "Authorization: Bearer your-api-key" \\
  -H "Content-Type: application/json" \\
  -d '{
    "scenario": "three_tier_both",
    "keywords": ["tax deductions canada", "canadian tax credits", "CRA tax tips"],
    "required_keywords": ["CRA", "income tax"],
    "page_type": "blog article",
    "language": "English",
    "country": "Canada",
    "word_count": 3000
  }'
```

**–í–∞–∂–Ω–æ:** –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ –≤ –º–∞—Å—Å–∏–≤–µ `keywords` —Å–æ–∑–¥–∞–µ—Ç—Å—è **–æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç—å—è**!

### –û—Ç–≤–µ—Ç

```json
{
  "success": true,
  "message": "3 article generation jobs queued",
  "data": {
    "jobs": [
      {
        "keyword": "tax deductions canada",
        "job_id": "01JDQW...",
        "status": "queued"
      },
      ...
    ],
    "total_jobs": 3
  }
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
curl -X GET http://localhost:8000/api/articles/status/01JDQW... \\
  -H "Authorization: Bearer your-api-key"
```

## üìö API Endpoints

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| POST | `/api/articles/generate` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π |
| GET | `/api/articles/status/{jobId}` | –°—Ç–∞—Ç—É—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ |
| GET | `/api/articles/history` | –ò—Å—Ç–æ—Ä–∏—è |
| POST | `/api/articles/test` | –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π |
| GET | `/api/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `docs/`:
- [INSTALLATION.md](docs/INSTALLATION.md) - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- [API.md](docs/API.md) - –û–ø–∏—Å–∞–Ω–∏–µ API endpoints
- [ARCHITECTURE.md](docs/ARCHITECTURE.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## üé® –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `scenario` | string | `three_tier_both`, `three_tier_gpt`, `three_tier_gemini`, `simple_gpt`, `simple_gemini` |
| `keywords` | array | –ú–∞—Å—Å–∏–≤ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç—å—è) |
| `page_type` | string | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ ("blog article", "product page", etc.) |
| `language` | string | –Ø–∑—ã–∫ —Å—Ç–∞—Ç—å–∏ |
| `country` | string | –¶–µ–ª–µ–≤–∞—è —Å—Ç—Ä–∞–Ω–∞ –¥–ª—è SEO |
| `word_count` | integer | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤ (500-10000) |

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `required_keywords` | array | `[]` | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –≤ —Å—Ç–∞—Ç—å–µ |
| `async` | boolean | `true` | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ |
| `openai_api_key` | string | –∏–∑ .env | –ö–∞—Å—Ç–æ–º–Ω—ã–π OpenAI –∫–ª—é—á |
| `google_api_key` | string | –∏–∑ .env | –ö–∞—Å—Ç–æ–º–Ω—ã–π Google –∫–ª—é—á |

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### API Key Authentication

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ API –∫–ª—é—á–∏ –≤ `.env`:
```env
API_KEYS=key1-secret,key2-secret,key3-secret
```

–ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
```
Authorization: Bearer your-api-key
```

### Rate Limiting

- 60 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É –Ω–∞ IP
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ OpenAI –∏ Google
- Retry —Å exponential backoff

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f storage/logs/laravel.log | grep "ArticleGeneration"

# –°—Ç–∞—Ç—É—Å –æ—á–µ—Ä–µ–¥–∏
php artisan queue:failed

# Laravel Horizon (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
composer require laravel/horizon
php artisan horizon
# Dashboard: http://localhost:8000/horizon
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
php artisan test

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
php artisan test --filter ArticleGenerationTest

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
php artisan test --coverage
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ SEO-–∞–Ω–∞–ª–∏–∑–æ–≤** (1 —á–∞—Å)
2. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ queue workers**
3. **Connection pooling**
4. **Redis –¥–ª—è –æ—á–µ—Ä–µ–¥–µ–π –∏ –∫—ç—à–∞**

### –ó–∞–ø—É—Å–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö workers

```bash
# 3 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö worker'–∞ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
php artisan queue:work redis --queue=article-generation --tries=3 &
php artisan queue:work redis --queue=article-generation --tries=3 &
php artisan queue:work redis --queue=article-generation --tries=3 &
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≤–∏—Å–∞–µ—Ç
```bash
php artisan queue:restart
php artisan queue:work redis --queue=article-generation
```

### "API key not set"
```bash
php artisan config:clear
php artisan config:cache
```

### –ü—Ä–µ–≤—ã—à–µ–Ω rate limit
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–≤–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –£–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ API –∫–ª—é—á–µ–π

## üåê Production Deployment

### Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```nginx
server {
    listen 80;
    server_name api.yourdomain.com;
    root /var/www/spartan-ai-create-posts/public;

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location ~ \.php$ {
        fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
        include fastcgi_params;
    }
}
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è production

```bash
composer install --optimize-autoloader --no-dev
php artisan config:cache
php artisan route:cache
php artisan view:cache
chmod -R 775 storage bootstrap/cache
```

### Supervisor –¥–ª—è queue workers

```ini
[program:spartan-ai-worker]
command=php /path/to/artisan queue:work redis --queue=article-generation --tries=3
autostart=true
autorestart=true
user=www-data
numprocs=3
```

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch: `git checkout -b feature/amazing-feature`
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏–π: `git commit -m 'Add amazing feature'`
4. Push –≤ branch: `git push origin feature/amazing-feature`
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìß –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [Issues](https://github.com/webjeyros/spartan-ai-create-posts/issues)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Issue —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º
3. –£–∫–∞–∂–∏—Ç–µ –≤–µ—Ä—Å–∏—é PHP, Laravel –∏ —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- OpenAI –∑–∞ ChatGPT API
- Google –∑–∞ Gemini API
- Laravel Community

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**Spartan AI Team**

- GitHub: [@webjeyros](https://github.com/webjeyros)

---

Made with ‚ù§Ô∏è by Spartan AI Team